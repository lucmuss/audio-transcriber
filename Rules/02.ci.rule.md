# CI Pipeline Rules
Goals:
- Modular workflow_call files.
- Use uv only, no pip, no isort.
- Tools: Ruff, Black, Flake8, MyPy, Pytest.
Workflow files:
- ci.yml entry.
- ci-lint.yml, ci-typecheck.yml, ci-tests.yml, ci-build.yml, ci-binary.yml.
- publish-to-pypi.yml, build-binaries.yml.
Order:
- lint -> typecheck -> tests -> build.
Runtime:
- Lint/typecheck/build in a container.
- Tests on ubuntu/windows/macos with Python 3.11 and 3.12.
- UV_PROJECT_ENVIRONMENT=.venv, uv venv, uv sync --extra dev --frozen, uv run.
- Coverage upload only on ubuntu + Python 3.11.
Release:
- PyPI on tags v*.*.* and workflow_dispatch.
- TestPyPI on workflow_dispatch.
- Binaries on tags, attach to a GitHub release.
